<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Secure Checkout | Complete Your Zveda Hair Oil Order</title>
  <meta name="description" content="Finalize your Zveda Hair Oil purchase securely. Review your order for the 200ml Ayurvedic hair growth oil and complete your transaction with Online or Cash on Delivery.">
  <meta name="keywords" content="Zveda Hair Oil checkout, secure payment, buy hair oil online, Ayurvedic oil purchase, Zveda order completion, hair growth oil payment, cash on delivery">
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />

  <!-- Favicon -->
  <link href="img/favicon-bc.jpeg" rel="icon" />

  <!-- Google Web Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Icon Font Stylesheet -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />

  <!-- Libraries Stylesheet (optional: owl/animate if used elsewhere) -->
  <link href="lib/animate/animate.min.css" rel="stylesheet" />
  <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />

  <!-- Bootstrap (kept for navbar layout) -->
  <link href="css/bootstrap.min.css" rel="stylesheet" />

  <!-- Tailwind (primary for this page UI) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ["Inter", "ui-sans-serif", "system-ui"] },
          colors: { brand: { DEFAULT: "#0ea5e9", dark: "#0284c7" }, accent: { DEFAULT: "#16a34a" } }
        }
      }
    }
  </script>

  <!-- Razorpay Checkout -->
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

  <!-- Page micro styles (for the success popup + trust ribbon) -->
  <style>
    html, body { scroll-behavior: smooth; }
    .trust-ribbon { background: linear-gradient(90deg, #0ea5e9, #16a34a); }
    .popup-overlay { display:none; position: fixed; inset: 0; background: rgba(0,0,0,.55); align-items: center; justify-content: center; z-index: 60; }
    .popup-card { width: 92vw; max-width: 480px; background: #fff; border-radius: 1rem; padding: 2rem; text-align: center; box-shadow: 0 25px 60px rgba(0,0,0,.15); }
  </style>
</head>

<body class="bg-gray-50 text-gray-800 font-sans">
  <!-- Top trust ribbon -->
  <div class="trust-ribbon text-white text-center text-sm py-2">
    <div class="max-w-6xl mx-auto px-3 flex flex-col sm:flex-row items-center justify-center gap-3">
      <span class="flex items-center gap-2"><i class="bi bi-shield-check"></i> 256‚Äëbit SSL Secure Checkout</span>
      <span class="hidden sm:inline">‚Ä¢</span>
      <span class="flex items-center gap-2"><i class="bi bi-truck"></i> Fast Shipping (3‚Äì7 working days)</span>
      <span class="hidden sm:inline">‚Ä¢</span>
      <span class="flex items-center gap-2"><i class="bi bi-cash-coin"></i> Cash on Delivery Available</span>
    </div>
  </div>

  <!-- Navbar Start (Bootstrap layout retained for site consistency) -->
  <div class="container-fluid sticky-top bg-white/80 backdrop-blur border-b border-gray-100">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light p-0">
        <a href="index.html" class="navbar-brand py-3">
          <img src="img/Zvedalogo.png" alt="Zveda Logo" class="img-fluid" style="max-height: 44px;" />
        </a>
        <button type="button" class="navbar-toggler ms-auto me-0" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <div class="navbar-nav ms-auto">
            <a href="index.html" class="nav-item nav-link">Home</a>
            <a href="about.html" class="nav-item nav-link">About</a>
            <a href="product.html" class="nav-item nav-link">Products</a>
            <a href="how-to-use.html" class="nav-item nav-link">How To Use</a>
            <a href="contact.html" class="nav-item nav-link">Contact</a>
          </div>
          <a href="product.html" class="btn btn-dark py-2 px-4 d-none d-lg-inline-block rounded-pill">Shop Now</a>
        </div>
      </nav>
    </div>
  </div>
  <!-- Navbar End -->

  <!-- Hero -->
  <section class="bg-gradient-to-br from-sky-500 to-sky-600 text-white">
    <div class="max-w-6xl mx-auto px-4 py-10 md:py-14 text-center">
      <h1 class="text-3xl md:text-5xl font-semibold tracking-tight">Checkout</h1>
      <p class="mt-3 text-white/90">Securely complete your Zveda Hair Oil order ‚Äî choose Online Payment or Cash on Delivery.</p>
      <nav class="mt-4 text-white/80 text-sm">
        <ol class="flex items-center justify-center gap-2 flex-wrap">
          <li><a class="hover:underline" href="index.html">Home</a></li>
          <li>‚Ä∫</li>
          <li><a class="hover:underline" href="product.html">Products</a></li>
          <li>‚Ä∫</li>
          <li class="text-white">Checkout</li>
        </ol>
      </nav>
    </div>
  </section>

  <!-- Main -->
  <main class="py-10 md:py-14 px-4">
    <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- Left: Forms -->
      <div class="lg:col-span-2 space-y-6">
        <!-- Product Summary -->
        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
          <h2 class="text-xl md:text-2xl font-semibold mb-6 flex items-center gap-2"><span>üõçÔ∏è</span> Order Summary</h2>
          <div class="flex flex-col md:flex-row items-center md:items-start gap-6">
            <img src="img/zvedaoil-1.png" alt="Zveda Hair Oil 200ml" class="w-32 h-32 md:w-36 md:h-36 object-contain rounded-xl border border-gray-200 bg-white" />
            <div class="flex-1 grid grid-cols-1 md:grid-cols-2 gap-4 w-full">
              <div class="space-y-1">
                <h3 class="text-lg font-semibold text-gray-900">Zveda Hair Oil</h3>
                <p class="text-sm text-gray-600">200ml bottle</p>
                <p class="text-base md:text-lg font-semibold"><span class="line-through text-gray-400 mr-2">‚Çπ963</span><span class="text-green-600">‚Çπ499</span> <span class="text-xs text-gray-500">incl. taxes</span></p>
                <div class="mt-3">
                  <label class="block text-sm font-medium text-gray-700 mb-1">Quantity</label>
                  <div class="inline-flex items-center rounded-xl border border-gray-300 overflow-hidden">
                    <button type="button" class="px-3 py-2 hover:bg-gray-100" onclick="decreaseQty()" aria-label="Decrease quantity">‚àí</button>
                    <input id="quantity" type="number" min="1" value="1" class="w-16 text-center outline-none py-2" />
                    <button type="button" class="px-3 py-2 hover:bg-gray-100" onclick="increaseQty()" aria-label="Increase quantity">+</button>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3 bg-gray-50 rounded-xl p-4 h-max">
                <div class="text-sm text-gray-600">Item Total</div><div class="text-right font-medium" id="priceItems">‚Çπ499</div>
                <div class="text-sm text-gray-600">Shipping</div><div class="text-right font-medium" id="priceShipping">Free</div>
                <div class="text-sm text-gray-600">Payment Method</div><div class="text-right font-medium" id="priceMethod">Online / COD</div>
                <div class="col-span-2 border-t pt-2 mt-1"></div>
                <div class="text-base font-semibold">Grand Total</div><div class="text-right text-lg font-bold text-gray-900" id="priceGrand">‚Çπ499</div>
              </div>
            </div>
          </div>
        </section>

        <!-- Shipping Address -->
        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
          <h2 class="text-xl md:text-2xl font-semibold mb-6 flex items-center gap-2"><span>üöö</span> Shipping Address</h2>
          <form id="checkoutForm" class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
              <input type="text" id="name" class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-sky-400 outline-none" required />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
              <input type="tel" id="phone" inputmode="numeric" maxlength="10" class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-sky-400 outline-none" required />
            </div>
            <div class="md:col-span-2">
              <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
              <input type="email" id="email" class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-sky-400 outline-none" required />
            </div>
            <div class="md:col-span-2">
              <label class="block text-sm font-medium text-gray-700 mb-1">Address</label>
              <textarea id="address" rows="3" class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-sky-400 outline-none" required></textarea>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">City</label>
              <input type="text" id="city" class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-sky-400 outline-none" required />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Postal Code</label>
              <input type="text" id="pincode" maxlength="6" class="w-full border border-gray-300 rounded-lg p-2.5 focus:ring-2 focus:ring-sky-400 outline-none" pattern="\d{6}" title="Please enter a 6-digit postal code" required oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 6);" />
            </div>
          </form>
        </section>

        <!-- Payment Method -->
        <section class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
          <h2 class="text-xl md:text-2xl font-semibold mb-6 flex items-center gap-2"><span>üí≥</span> Payment Method</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <label class="flex items-start gap-3 p-4 border rounded-xl hover:border-sky-300 cursor-pointer">
              <input type="radio" name="payMethod" id="payOnline" class="mt-1" checked />
              <div>
                <div class="font-semibold">Pay Online (UPI / Card / Net Banking)</div>
                <p class="text-sm text-gray-600 mt-1">Secure Razorpay checkout ‚Ä¢ Instant confirmation</p>
              </div>
            </label>
            <label class="flex items-start gap-3 p-4 border rounded-xl hover:border-sky-300 cursor-pointer">
              <input type="radio" name="payMethod" id="payCOD" class="mt-1" />
              <div>
                <div class="font-semibold">Cash on Delivery (COD)</div>
                <p class="text-sm text-gray-600 mt-1">Pay at your doorstep ‚Ä¢ No upfront payment</p>
              </div>
            </label>
          </div>

          <!-- Terms & Privacy -->
          <div class="mt-6 flex items-start gap-3">
            <input type="checkbox" id="agree" class="mt-1" />
            <label for="agree" class="text-sm text-gray-600">I agree to the <a href="terms_condition.html" class="text-sky-600 hover:underline">Terms of Service</a> and <a href="privacy_policy.html" class="text-sky-600 hover:underline">Privacy Policy</a>.</label>
          </div>

          <!-- Action Buttons -->
          <div class="mt-6 flex flex-col sm:flex-row gap-3">
            <button id="btnPlaceOrder" class="flex-1 bg-sky-500 hover:bg-sky-600 text-white font-semibold px-6 py-3 rounded-xl shadow-sm">Pay Securely</button> 
            <!-- <button id="whatsappOrderBtn" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2">
                <i class="bi bi-whatsapp"></i> Order via WhatsApp
              </button> -->
          </div>

          <!-- Assurance badges -->
          <div class="mt-6 grid grid-cols-2 sm:grid-cols-4 gap-3 text-center text-xs text-gray-600">
            <div class="border rounded-xl p-3"><i class="bi bi-lock text-base"></i><div class="mt-1">SSL Secured</div></div>
            <div class="border rounded-xl p-3"><i class="bi bi-patch-check text-base"></i><div class="mt-1">Genuine Product</div></div>
            <div class="border rounded-xl p-3"><i class="bi bi-truck text-base"></i><div class="mt-1">Tracked Shipping</div></div>
            <div class="border rounded-xl p-3 text-center">
                <i class="bi bi-droplet text-success text-base"></i>
                <div class="mt-1">No Chemicals</div>
              </div>
              
          </div>
        </section>
      </div>

      <!-- Right: Help & Support -->
      <aside class="space-y-6">
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-semibold text-lg mb-3">Need Help?</h3>
          <ul class="space-y-2 text-sm text-gray-700">
            <li class="flex items-center gap-2"><i class="bi bi-envelope"></i> zvedaoils@gmail.com</li>
            <li class="flex items-center gap-2"><i class="bi bi-telephone"></i> +91 73383 48401</li>
            <li class="flex items-center gap-2"><i class="bi bi-clock"></i> Mon‚ÄìSat, 10:00 am ‚Äì 6:00 pm</li>
          </ul>
          <div class="mt-4 text-xs text-gray-500">Payments are processed by Razorpay. We do not store your card or UPI details.</div>
        </div>

        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
          <h3 class="font-semibold text-lg mb-3">Why buy from Zveda?</h3>
          <ul class="space-y-2 text-sm text-gray-700 list-disc list-inside">
            <li>Trusted Ayurvedic Solution: Rooted in ancient 'Taila Paka Vidhi</li>
            <li>100% Pure & Natural: No chemicals, only nature's best herbs</li>
            <li>Real Results: Proven effective for hair fall and growth</li>
            <li>Multi-Action Formula: Reduces hair fall, promotes growth, adds shine</li>
            <li>Secure & Fast Delivery: Shipped from Bengaluru, right to you</li>
          </ul>
        </div>
      </aside>
    </div>
  </main>

  <!-- Footer mini -->
  <footer class="border-t bg-white">
    <div class="max-w-6xl mx-auto px-4 py-6 text-sm text-gray-600 flex flex-col sm:flex-row items-center justify-between gap-3">
      <div>¬© <span id="year"></span> Zveda. All rights reserved.</div>
      <div class="flex items-center gap-4">
        <a href="privacy_policy.html" class="hover:text-gray-900">Privacy Policy</a>
        <a href="terms_condition.html" class="hover:text-gray-900">Terms & Conditions</a>
        <!-- <a href="#" class="hover:text-gray-900">Refunds</a> -->
      </div>
    </div>
  </footer>

  <!-- Success / Confirmation Popup -->
  <div id="orderPopup" class="popup-overlay">
    <div class="popup-card">
      <div class="mx-auto w-16 h-16 rounded-full bg-green-100 flex items-center justify-center">
        <i class="bi bi-check2 text-3xl text-green-600"></i>
      </div>
      <h2 class="text-xl font-semibold mt-4">Order Placed Successfully!</h2>
      <p class="text-gray-600 mt-2">Your order has been placed and will be delivered within 3‚Äì7 working days.</p>
      <button onclick="closePopup()" class="mt-6 bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-2.5 rounded-lg">OK</button>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // ====== CONFIG (edit these) ======
    const UPI_WHATSAPP_NUMBER = "917353553693"; // in international format without +
    const RAZORPAY_KEY = "rzp_live_DRYLVTwEkDODAu"; // ‚ö†Ô∏è Live key. For production, create orders server-side for better security.
    const UNIT_PRICE = 499; // INR
    const SHIPPING_FEE_PREPAID = 0; // set if needed
    const SHIPPING_FEE_COD = 0; // set a COD fee if you want, e.g., 50

    // Google Form mapping (change entry IDs to your form field IDs)
    const GOOGLE_FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLScK0PLvXZ5PHhVwanzpR_WkCyKrVqe_Bjwai1oGWKU2SbHxUQ/formResponse";
    const GF_NAME = "entry.137966236";
    const GF_EMAIL = "entry.402325529";
    const GF_PHONE = "entry.1119161222";
    const GF_ADDRESS = "entry.1895725893";
    const GF_CITY = "entry.1156646242";
    const GF_PIN = "entry.565442736";
    const GF_STATE = "entry.1985786831"; // if you don't capture state, you can send a placeholder
    const GF_PAYMENT_ID = "entry.1378629200"; // Razorpay payment id or COD id
    // (Optional) Add more fields in your sheet like quantity, payment method, amount, etc.

    // ====== UTILITIES ======
    const el = id => document.getElementById(id);
    const priceItems = el('priceItems');
    const priceShipping = el('priceShipping');
    const priceGrand = el('priceGrand');

    const qtyInput = el('quantity');
    const payOnlineRadio = el('payOnline');
    const payCODRadio = el('payCOD');

    function formatINR(n) { return `‚Çπ${Number(n).toLocaleString('en-IN')}`; }
    function nowId(prefix) { const t = new Date(); return `${prefix}-${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,'0')}${t.getDate().toString().padStart(2,'0')}-${t.getHours().toString().padStart(2,'0')}${t.getMinutes().toString().padStart(2,'0')}${t.getSeconds().toString().padStart(2,'0')}`; }

    function updateTotals() {
      let q = parseInt(qtyInput.value) || 1; if (q < 1) q = 1; qtyInput.value = q;
      const items = q * UNIT_PRICE;
      const shipping = payCODRadio.checked ? SHIPPING_FEE_COD : SHIPPING_FEE_PREPAID;
      const grand = items + shipping;
      priceItems.textContent = formatINR(items);
      priceShipping.textContent = shipping === 0 ? 'Free' : formatINR(shipping);
      priceGrand.textContent = formatINR(grand);
      document.getElementById('priceMethod').textContent = payCODRadio.checked ? 'Cash on Delivery' : 'Online (Razorpay)';
      document.getElementById('btnPlaceOrder').textContent = payCODRadio.checked ? 'Place COD Order' : 'Pay Securely';
    }

    function increaseQty() { qtyInput.value = (parseInt(qtyInput.value) || 1) + 1; updateTotals(); }
    function decreaseQty() { const v = (parseInt(qtyInput.value) || 1); qtyInput.value = v > 1 ? v - 1 : 1; updateTotals(); }
    qtyInput.addEventListener('input', updateTotals);
    payOnlineRadio.addEventListener('change', updateTotals);
    payCODRadio.addEventListener('change', updateTotals);

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // ====== VALIDATION ======
    function getFormValues() {
      const name = el('name').value.trim();
      const phone = el('phone').value.trim();
      const email = el('email').value.trim();
      const address = el('address').value.trim();
      const city = el('city').value.trim();
      const pincode = el('pincode').value.trim();
      const quantity = (parseInt(el('quantity').value) || 1).toString();
      return { name, phone, email, address, city, pincode, quantity };
    }

    function validateForm(v) {
      if (!v.name || !v.phone || !v.email || !v.address || !v.city || !v.pincode) return 'Please fill in all fields.';
      if (!/^([6-9]\d{9})$/.test(v.phone)) return 'Enter a valid 10‚Äëdigit Indian phone number.';
      if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.email)) return 'Enter a valid email address.';
      if (v.address.length < 10) return 'Enter a complete address (at least 10 characters).';
      if (!/^\d{6}$/.test(v.pincode)) return 'Enter a valid 6‚Äëdigit postal code.';
      if (!document.getElementById('agree').checked) return 'Please accept Terms & Privacy to continue.';
      return null;
    }

    // ====== GOOGLE SHEETS SAVE ======
    function saveOrderToGoogleSheet(values, paymentId, paymentMethod, amount) {
      const fd = new FormData();
      fd.append(GF_NAME, values.name);
      fd.append(GF_EMAIL, values.email);
      fd.append(GF_PHONE, values.phone);
      fd.append(GF_ADDRESS, values.address);
      fd.append(GF_CITY, values.city);
      fd.append(GF_PIN, values.pincode);
      fd.append(GF_STATE, 'N/A'); // update if you add a state field on page
      fd.append(GF_PAYMENT_ID, `${paymentMethod}:${paymentId}`);
      // You can add additional hidden fields to your Google Form to capture amount, qty, method, etc.

      return fetch(GOOGLE_FORM_URL, { method: 'POST', mode: 'no-cors', body: fd });
    }

    // ====== RAZORPAY (ONLINE PAYMENT) ======
    function payOnlineFlow(values) {
      const quantity = parseInt(values.quantity);
      const amountPaise = ((UNIT_PRICE * quantity) + SHIPPING_FEE_PREPAID) * 100; // paise

      // ‚ö†Ô∏è Best practice is to create an order (order_id) from your backend and pass it here.
      // Using only amount on client works but is less secure against tampering.
      const rpOptions = {
        key: RAZORPAY_KEY,
        amount: amountPaise.toString(),
        currency: 'INR',
        name: 'Zveda',
        description: 'Zveda Haircare Payment',
        image: 'img/Zvedalogo.png',
        handler: function (response) {
          const paymentId = response.razorpay_payment_id;
          saveOrderToGoogleSheet(values, paymentId, 'ONLINE', amountPaise / 100)
            .then(() => showOrderPopup())
            .catch(() => alert('Payment successful, but failed to save order. Please contact support.'));
        },
        prefill: { name: values.name, email: values.email, contact: values.phone },
        theme: { color: '#0ea5e9' }
      };

      const rzp = new Razorpay(rpOptions);
      rzp.on('payment.failed', function (resp) {
        alert('Payment failed: ' + (resp.error && resp.error.description ? resp.error.description : 'Please try again.'));
      });
      rzp.open();
    }

    // ====== COD FLOW ======
    function codFlow(values) {
      const codId = nowId('COD');
      const amount = (UNIT_PRICE * parseInt(values.quantity)) + SHIPPING_FEE_COD;
      saveOrderToGoogleSheet(values, codId, 'COD', amount)
        .then(() => showOrderPopup())
        .catch(() => alert('Order saved failed. Please contact support on WhatsApp.'));
    }

    // ====== BUTTON HANDLERS ======
    document.getElementById('btnPlaceOrder').addEventListener('click', function () {
      const vals = getFormValues();
      const err = validateForm(vals);
      if (err) { alert('\u26A0\uFE0F ' + err); return; }
      if (payCODRadio.checked) codFlow(vals); else payOnlineFlow(vals);
    });

    document.getElementById('btnWhatsApp').addEventListener('click', function () {
      const v = getFormValues();
      const quantity = parseInt(v.quantity) || 1;
      const method = payCODRadio.checked ? 'Cash on Delivery' : 'Online (Razorpay)';
      const total = (quantity * UNIT_PRICE) + (payCODRadio.checked ? SHIPPING_FEE_COD : SHIPPING_FEE_PREPAID);
      const message = `Hi Zveda Oils, I want to place an order:%0a%0a` +
        `\uD83D\uDED2 *Product:* Zveda Hair Oil (200ml)%0a` +
        `\uD83D\uDD22 *Quantity:* ${quantity}%0a` +
        `\uD83D\uDCB3 *Payment:* ${method}%0a` +
        `\uD83D\uDCB0 *Total:* ${formatINR(total)}%0a%0a` +
        `\uD83D\uDCE6 *Shipping Details*%0a` +
        `üë§ Name: ${encodeURIComponent(v.name)}%0a` +
        `üìû Phone: ${encodeURIComponent(v.phone)}%0a` +
        `‚úâÔ∏è Email: ${encodeURIComponent(v.email)}%0a` +
        `üè† Address: ${encodeURIComponent(v.address)}, ${encodeURIComponent(v.city)} - ${encodeURIComponent(v.pincode)}`;
      const url = `https://wa.me/${UPI_WHATSAPP_NUMBER}?text=${message}`;
      window.open(url, '_blank');
    });

    // Popup helpers
    function showOrderPopup() { document.getElementById('orderPopup').style.display = 'flex'; document.body.style.overflow = 'hidden'; }
    function closePopup() { document.getElementById('orderPopup').style.display = 'none'; document.body.style.overflow = ''; window.location.href = '/'; }

    // Init totals
    updateTotals();
  </script>

<script>
    document.getElementById("whatsappOrderBtn").addEventListener("click", function () {
      // Get form values
      let name = document.getElementById("customerName").value.trim();
      let phone = document.getElementById("customerPhone").value.trim();
      let address = document.getElementById("customerAddress").value.trim();
      let pincode = document.getElementById("customerPincode").value.trim();
      let paymentMethod = document.querySelector('input[name="payment"]:checked')?.value || "Not Selected";
  
      // Validate (optional - you can remove this if you want to allow empty fields)
      if (!name || !phone || !address || !pincode) {
        alert("Please fill all shipping details before ordering on WhatsApp.");
        return;
      }
  
      // Business WhatsApp Number (with country code)
      let businessNumber = "91XXXXXXXXXX"; // Replace with your number
  
      // Professional formatted message
      let message = `Hello, I would like to place an order:\n\n` +
                    `Name: ${name}\n` +
                    `Phone: ${phone}\n` +
                    `Address: ${address}\n` +
                    `Pincode: ${pincode}\n` +
                    `Payment Method: ${paymentMethod}\n\n` +
                    `Please confirm availability.`;
  
      // Encode message & open WhatsApp
      let whatsappURL = `https://wa.me/${businessNumber}?text=${encodeURIComponent(message)}`;
      window.open(whatsappURL, "_blank");
    });
  </script>
  

  <!-- Bootstrap bundle (only if you use Bootstrap components like navbar toggler) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
